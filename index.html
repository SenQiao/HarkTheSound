<!DOCTYPE html>
<html>
<head>
<title>NameThatSong</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
</head>
<body>

<div id="placeHolder_Container">
</div>

</body>
<script type="text/javascript">
	arrayAnswer=[];
	arrayName=[];
	arrayPicture=[];
	arrayPrompt=[];
	count=0;
	//extracting


	$.ajax({
	  type: "GET",
	  url: "NameThatSong.json",
	  dataType: "json",
	  success: function(data){

	  	// alert(data.Things);
	  	for (i in data.Things){

	  	arrayAnswer[count]=data.Things[i].Answer
		arrayName[count]=data.Things[i].Name
		arrayPicture[count]=data.Things[i].Picture
		arrayPrompt[count]=data.Things[i].Prompt
		count=count+1;
	  	}
	  	TestBegins();
	  }

	  //create quiz

	  //arrow key selection
	  	});
	function TestBegins(){
		//display image
		// for(i=0;i<4;i++){
		// 	alert(arrayAnswer[i]);
		// }
		// alert(arrayAnswer[4]);
		var table="<table border=1>"
		// var newInstance = $(document.createElement('table'));
		// alert(count);
		for(i=0; i<count;i++){
			table=table+"<tr>"

			table=table+"<td class='songLocat'>"
			table=table+arrayPrompt[i].toString();
			table=table+"</td>"
////////////////////////////// Choices
			var total=0;
			var randomz=[];
			var countArray=0;
			// alert(randomz[0]);
			while(countArray<4){
				test11=Math.floor((Math.random() * 4));
				if(randomz.includes(test11)){
					a='a';
				}
				else{
					randomz.push(test11);
					// alert(test11);
					if(test11==0){
						table=table+"<td class='answerTrue' >"
						table=table+arrayAnswer[i].toString();
						table=table+"</td>"
					}
					else{
						// try{
							if(i+test11<count){
								table=table+"<td class='answerFalse1' >"
								table=table+arrayAnswer[i+test11].toString();
								
								table=table+"</td>"
							}
							else if(test11>i){
									table=table+"<td class='answerFalse2' >"
									table=table+arrayAnswer[test11-i].toString();
									
									table=table+"</td>"
							}
							else{
									table=table+"<td class='answerFalse3' >"
									table=table+arrayAnswer[i-test11].toString();
									
									table=table+"</td>"
							}
						// }
						
					}
					countArray=countArray+1;
				}
				// countArray=countArray+1;
			}
			//psedorandom order
			// alert(randomz);
			// alert('out');
		
			
			
////////////////////
			table=table+"<td class='image'>"
			table=table+arrayPicture[i].toString();
			table=table+"</td>"

			table=table+"<td class='name'>"
			table=table+arrayName[i].toString();
			table=table+"</td>"

			table=table+"</tr>"
		}
		table=table+"</table>"
		// newInstance.appendTo('#placeHolder_Container');
		$("#placeHolder_Container").append(table);

		createButton();

	}
	function createButton(){
		button = "<button type='button' id='nextz'>SUBMIT</button>"
		$("#placeHolder_Container").append(button);
	}
	Qcount=0;
	$(document).ready(function() {




		//selection
		$(document).keydown(function (e) {
			//left
		    if (e.keyCode == 37) {
		    	e.preventDefault()
		        alert('left key is pressed');
		    }
		    //up
		    if (e.keyCode == 38) {
		    	e.preventDefault()
		        alert('up key is pressed');
		    }
		    //right
		    if (e.keyCode == 39) {
		    	e.preventDefault()
		        alert('right key is pressed');
		    }
		    //down
		    if (e.keyCode == 40) {
		    	e.preventDefault()
		        alert('down key is pressed');
		    }
		});


		$("#nextz").click(function() {

 var speech = new SpeechSynthesisUtterance('hello baby');
    speech.lang = 'en-US';
    window.speechSynthesis.speak(speech);

			try{
			$("#newaudio").remove();
			}
			catch(err){
				//first time
				//do nothing
			}
			prompt="<audio id='newaudio' autoplay><source src='"+arrayPrompt[Qcount]+"' type='audio/mpeg'></audio> ";
	  		Qcount=Qcount+1;
	  		$("#placeHolder_Container").append(prompt);
		});
	});
</script>
</html>
